<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico?v2" sizes="any">
    <!-- SVG Favicon (Modern Browsers) -->
    <link rel="icon" href="icon.svg?v2" type="image/svg+xml">
    <title>HKDSE Economics Questions Database</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

    <!-- Loading Indicator -->
    <div id="loading-indicator">ËºâÂÖ•‰∏≠...</div>

    <!-- Main Container -->
    <div class="container">
        <header>
            <h1>üìö HKDSE Á∂ìÊøüÁßëÈ°åÁõÆË≥áÊñôÂ∫´</h1>
            <p>ÁÆ°ÁêÜÂèäÊêúÂ∞ã HKDSE„ÄÅHKCEE„ÄÅHKALE Á∂ìÊøüÁßëË©¶È°å</p>
            <!-- Storage status and reload button on same line -->
            <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 15px;">
                <div id="storage-status" style="color: rgba(255,255,255,0.9); font-size: 14px; min-width: 150px;">Ê™¢Êü•Ë≥áÊñôÂ∫´...</div>
                <button onclick="manualSync()" class="btn btn-info">üîÑ ÈáçÊñ∞ËºâÂÖ•Ë≥áÊñô</button>
            </div>
        </header>      
        <nav class="tabs">
            <button class="tab active" onclick="switchTab('questions')">È°åÁõÆ</button>
            <!-- <button class="tab" onclick="switchTab('publishers')">Âá∫ÁâàÂïÜ</button> -->
            <!-- <button class="tab" onclick="switchTab('topics')">Ë™≤Á®ãÂàÜÈ°û</button> -->
            <!-- <button class="tab" onclick="switchTab('concepts')">Ê∂âÂèäÊ¶ÇÂøµ</button> -->
            <!-- <button class="tab" onclick="switchTab('patterns')">È°åÁõÆÈ°ûÂûã</button> -->
        </nav>

        <main>
            <!-- Questions Tab -->
            <div id="questions-tab" class="tab-content active">
                <!-- Search & Primary Filters Section -->
                <div class="filters-container">
              
                    <!-- Row 1: Search Bar Group -->
                    <div class="search-row">
                        <div class="search-input-group">
                            <div class="scope-select-wrapper">
                                <select id="search-scope">
                                    <!-- Options populated by JS -->
                                    <option value="all">ÂÖ®ÈÉ®Ê¨Ñ‰Ωç</option>
                                </select>
                            </div>
                            <input type="text" id="search" placeholder="Ëº∏ÂÖ•ÈóúÈçµÂ≠óÊêúÂ∞ã..." autocomplete="off">
                            <div class="search-icon">üîç</div>
                        </div>
                    </div>
                    <!-- Active Filters Display (Badges) -->
                    <div id="active-filters-display" class="active-filters-panel" style="display: none;"></div>     
                    <!-- Row 2: Primary Filters Grid -->
                    <div class="filter-primary-grid">
                        <!-- Exam Type Dropdown -->
                        <div class="filter-item dropdown-filter">
                            <div class="dropdown-btn" onclick="toggleDropdown('exam-options')">
                                <span>üéì ËÄÉË©¶È°ûÂûã</span>
                                <span id="indicator-exam" class="active-indicator"></span>
                                <span class="arrow">‚ñº</span>
                            </div>
                            <div id="exam-options" class="dropdown-content">
                                <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="exam" data-value="HKDSE">
                                    <div class="tri-state-checkbox" data-filter="exam" data-value="HKDSE"><span>HKDSE</span></div>
                                </div>
                                <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="exam" data-value="HKCEE">
                                    <div class="tri-state-checkbox" data-filter="exam" data-value="HKCEE"><span>HKCEE</span></div>
                                </div>
                                <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="exam" data-value="HKALE">
                                    <div class="tri-state-checkbox" data-filter="exam" data-value="HKALE"><span>HKALE</span></div>
                                </div>
                            </div>
                        </div>

                        <!-- Year Select -->
                        <div class="filter-item">
                            <div style="position: relative; width: 100%;">
                                <span id="indicator-year" class="active-indicator" style="top: 5px; right: 25px;"></span>
                                <select id="year-filter" class="modern-select" onchange="filterQuestions()">
                                    <option value="">üìÖ ÂÖ®ÈÉ®Âπ¥‰ªΩ</option>
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                        </div>

                        <!-- Question Type Dropdown -->
                        <div class="filter-item dropdown-filter">
                            <div class="dropdown-btn" onclick="toggleDropdown('qtype-options')">
                                <span>üìù È°åÁõÆÈ°ûÂûã</span>
                                <span id="indicator-qtype" class="active-indicator"></span>
                                <span class="arrow">‚ñº</span>
                            </div>
                            <div id="qtype-options" class="dropdown-content">
                                <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="qtype" data-value="MC">
                                    <div class="tri-state-checkbox" data-filter="qtype" data-value="MC"><span>MC</span></div>
                                </div>
                                <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="qtype" data-value="ÊñáÂ≠óÈ°å (SQ/LQ)">
                                    <div class="tri-state-checkbox" data-filter="qtype" data-value="ÊñáÂ≠óÈ°å (SQ/LQ)"><span>ÊñáÂ≠óÈ°å (SQ/LQ)</span></div>
                                </div>
                            </div>
                        </div>

                        <!-- Percentage Filter -->
                        <div class="filter-item dropdown-filter">
                            <div class="dropdown-btn" onclick="toggleCollapsibleSection('percentage-options', 'percentage-arrow')">
                                <span>üìä Á≠îÂ∞çÁéá</span>
                                <span id="indicator-percentage" class="active-indicator"></span>
                                <span id="percentage-arrow" class="arrow">‚ñº</span>
                            </div>
                            <div id="percentage-options" class="dropdown-content range-dropdown">
                                <div class="range-filter-wrapper">
                                    <div class="range-filter-header">
                                        <button class="range-clear-btn" onclick="clearPercentageFilter()">üóëÔ∏è Ê∏ÖÈô§</button>
                                    </div>
                                    <div class="range-info">
                                        ÁØÑÂúç: <span id="min-percentage-display">0</span>% - <span id="max-percentage-display">100</span>%
                                    </div>
                                    <div class="range-slider-container">
                                        <div class="range-slider-track"></div>
                                        <div class="range-slider-fill" id="percentage-range-fill" style="left: 0%; width: 100%;"></div>
                                        <input type="range" class="range-slider-input" id="min-percentage" min="0" max="100" value="0" oninput="updatePercentageRange()" onchange="applyPercentageFilter()">
                                        <input type="range" class="range-slider-input" id="max-percentage" min="0" max="100" value="100" oninput="updatePercentageRange()" onchange="applyPercentageFilter()">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Marks Filter -->
                        <div class="filter-item dropdown-filter">
                            <div class="dropdown-btn" onclick="toggleCollapsibleSection('marks-options', 'marks-arrow')">
                                <span>üíØ ÂàÜÊï∏</span>
                                <span id="indicator-marks" class="active-indicator"></span>
                                <span id="marks-arrow" class="arrow">‚ñº</span>
                            </div>
                            <div id="marks-options" class="dropdown-content range-dropdown marks-filter">
                                <div class="range-filter-wrapper">
                                    <div class="range-filter-header">
                                        <button class="range-clear-btn" onclick="clearMarksFilter()">üóëÔ∏è Ê∏ÖÈô§</button>
                                    </div>
                                    <div class="range-info">
                                        ÁØÑÂúç: <span id="min-marks-display">0</span> - <span id="max-marks-display">30</span> ÂàÜ
                                    </div>
                                    <div class="range-slider-container">
                                        <div class="range-slider-track"></div>
                                        <div class="range-slider-fill" id="marks-range-fill" style="left: 0%; width: 100%;"></div>
                                        <input type="range" class="range-slider-input" id="min-marks" min="0" max="30" value="0" step="1" oninput="updateMarksRange()" onchange="applyMarksFilter()">
                                        <input type="range" class="range-slider-input" id="max-marks" min="0" max="30" value="30" step="1" oninput="updateMarksRange()" onchange="applyMarksFilter()">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Clear All Button -->
                        <div class="filter-item">
                            <button class="btn btn-clear-filter full-width" onclick="clearFilters()">
                                üîÑ ÈáçÁΩÆ
                            </button>
                        </div>
                    </div>

                    <!-- Row 3: Advanced Filters Panel -->
                    <div class="advanced-filters">
                        <div class="advanced-header" onclick="toggleCollapsibleSection('advanced-options-grid', 'adv-arrow')">
                            <span>‚ö° ÈÄ≤ÈöéÁØ©ÈÅ∏ (Ë™≤Á®ã„ÄÅË™≤È°å„ÄÅÁâπÂæµ)</span>
                            <span id="adv-arrow" class="arrow">‚ñº</span>
                        </div>
                        
                        <div id="advanced-options-grid" class="advanced-grid">
                            <!-- Curriculum -->
                            <div class="adv-column">
                                <div class="dropdown-section" style="margin-bottom: 15px;">
                                    <div class="dropdown-btn" onclick="toggleDropdown('curriculum-options')">
                                        <span>üìö Ë™≤Á®ãÂàÜÈ°û</span>
                                        <span id="indicator-curriculum" class="active-indicator"></span>
                                        <span class="arrow">‚ñº</span>
                                    </div>
                                    <div id="curriculum-options" class="dropdown-content static-position">
                                        <!-- Populated by JS -->
                                    </div>
                                </div>
                            </div>

                            <!-- Chapters -->
                            <div class="adv-column">
                                    <div class="dropdown-section">
                                        <div class="dropdown-btn" onclick="toggleCollapsibleSection('chapter-options', 'chapter-arrow-inner')">
                                            <span>üìñ Chapters</span>
                                            <span id="indicator-chapter" class="active-indicator"></span>
                                            <span id="chapter-arrow-inner" class="arrow">‚ñ∂</span>
                                        </div>
                                        <div id="chapter-options" class="dropdown-content static-position">
                                            <!-- Populated by JS -->
                                        </div>
                                    </div>
                            </div>

                            <!-- Features -->
                            <div class="adv-column">
                    <div class="dropdown-section">
                                    <div class="dropdown-btn" onclick="toggleDropdown('feature-options')">
                                        <span>üéØ ÁâπÂæµ</span>
                                        <span id="indicator-feature" class="active-indicator"></span>
                                        <span class="arrow">‚ñº</span>
                                    </div>
                                    <div id="feature-options" class="dropdown-content static-position">
                                        <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="feature" data-value="Âê´ÂúñË°®">
                                            <div class="tri-state-checkbox" data-filter="feature" data-value="Âê´ÂúñË°®"><span>Âê´ÂúñË°®</span></div>
                                        </div>
                                        <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="feature" data-value="Âê´Ë°®Ê†º">
                                            <div class="tri-state-checkbox" data-filter="feature" data-value="Âê´Ë°®Ê†º"><span>Âê´Ë°®Ê†º</span></div>
                                        </div>
                                        <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="feature" data-value="Âê´Ë®àÁÆó">
                                            <div class="tri-state-checkbox" data-filter="feature" data-value="Âê´Ë®àÁÆó"><span>Âê´Ë®àÁÆó</span></div>
                                        </div>
                                        <div class="tri-state-label" onclick="toggleTriState(this)" data-filter="feature" data-value="Ë§áÈÅ∏">
                                            <div class="tri-state-checkbox" data-filter="feature" data-value="Ë§áÈÅ∏"><span>Ë§áÈÅ∏</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dynamic Filters Grid -->
                    <div class="filter-primary-grid" style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
                        
                        <!-- Multiple Selection Filter -->
                        <div class="filter-item input-dropdown-container">
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Ë§áÈÅ∏È°ûÂûã" data-filter-type="multipleSelection" onkeyup="filterDropdownList(this, 'multiple-selection-options')">
                                <span class="active-indicator" id="indicator-multipleSelection"></span>
                                <span class="input-arrow">‚ñº</span>
                            </div>
                            <div id="multiple-selection-options" class="dropdown-content scrollable-options input-dropdown-list">
                                <!-- Populated by JS -->
                            </div>
                        </div>

                        <!-- Graph Filter -->
                        <div class="filter-item input-dropdown-container">
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="ÂúñË°®È°ûÂûã" data-filter-type="graph" onkeyup="filterDropdownList(this, 'graph-options')">
                                <span class="active-indicator" id="indicator-graph"></span>
                                <span class="input-arrow">‚ñº</span>
                            </div>
                            <div id="graph-options" class="dropdown-content scrollable-options input-dropdown-list">
                                <!-- Populated by JS -->
                            </div>
                        </div>

                        <!-- Table Filter -->
                        <div class="filter-item input-dropdown-container">
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Ë°®Ê†ºÈ°ûÂûã" data-filter-type="table" onkeyup="filterDropdownList(this, 'table-options')">
                                <span class="active-indicator" id="indicator-table"></span>
                                <span class="input-arrow">‚ñº</span>
                            </div>
                            <div id="table-options" class="dropdown-content scrollable-options input-dropdown-list">
                                <!-- Populated by JS -->
                            </div>
                        </div>

                        <!-- Calculation Filter -->
                        <div class="filter-item input-dropdown-container">
                            <div class="filter-input-wrapper">
                                <input type="text" class="filter-input" placeholder="Ë®àÁÆóÈ°ûÂûã" data-filter-type="calculation" onkeyup="filterDropdownList(this, 'calculation-options')">
                                <span class="active-indicator" id="indicator-calculation"></span>
                                <span class="input-arrow">‚ñº</span>
                            </div>
                            <div id="calculation-options" class="dropdown-content scrollable-options input-dropdown-list">
                                <!-- Populated by JS -->
                            </div>
                        </div>

                    </div>

                </div>

                <!-- Add after filter controls, before questions list -->
                <div class="sort-controls">
                    <label for="sort-order">ÊéíÂ∫èÊñπÂºèÔºö</label>
                    <select id="sort-order" onchange="refreshViews()">
                        <option value="default">È†êË®≠ (Âπ¥‰ªΩÊñ∞‚ÜíËàäÔºåÈ°åËôüÂ∞è‚ÜíÂ§ß)</option>
                        <option value="year-desc">Âπ¥‰ªΩ (Êñ∞‚ÜíËàä)</option>
                        <option value="year-asc">Âπ¥‰ªΩ (Ëàä‚ÜíÊñ∞)</option>
                        <option value="question-asc">È°åËôü (Â∞è‚ÜíÂ§ß)</option>
                        <option value="question-desc">È°åËôü (Â§ß‚ÜíÂ∞è)</option>
                        <option value="marks-asc">ÂàÜÊï∏ (‰Ωé‚ÜíÈ´ò)</option>
                        <option value="marks-desc">ÂàÜÊï∏ (È´ò‚Üí‰Ωé)</option>
                     </select>
                </div>            

                <!-- Question Count and Actions -->
                <div class="action-bar">
                    <h2 id="question-count">Á∏ΩÈ°åÁõÆÊï∏: 0</h2>
                    <div>
                        <button class="btn btn-admin-only btn-outline-primary" onclick="exportJSON()">üì• ÂåØÂá∫ JSON</button>
                        <button class="btn btn-admin-only btn-outline-primary" onclick="importJSON()">üì§ ÂåØÂÖ• JSON</button>
                        <button class="btn btn-admin-only btn-outline-danger" onclick="clearDatabase()">üóëÔ∏è Ê∏ÖÈô§Ë≥áÊñôÂ∫´</button>
                        <button class="btn btn-admin-only btn-primary" onclick="toggleForm()">‚ûï Êñ∞Â¢ûÈ°åÁõÆ</button>
                    </div>
                </div>

                <!-- Add/Edit Question Form (Hidden by default) -->
                <div id="form-section" class="form-container hidden">
                    <h2 id="form-title">Êñ∞Â¢ûÈ°åÁõÆ</h2>
                    <form id="question-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="question-id">È°åÁõÆ ID *</label>
                                <input type="text" id="question-id" required>
                            </div>

                            <div class="form-group">
                                <label for="publisher">Âá∫ÁâàÂïÜ</label>
                                <input type="text" id="publisher" value="HKEAA">
                            </div>

                            <div class="form-group">
                                <label for="examination">ËÄÉË©¶È°ûÂûã *</label>
                                <select id="examination" required>
                                    <option value="HKDSE">HKDSE</option>
                                    <option value="HKCEE">HKCEE</option>
                                    <option value="HKALE">HKALE</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="year">Âπ¥‰ªΩ *</label>
                                <input type="number" id="year" required min="1990" max="2030">
                            </div>

                            <div class="form-group">
                                <label for="paper">Ë©¶Âç∑</label>
                                <input type="text" id="paper" placeholder="‰æãÂ¶ÇÔºöP1, P2">
                            </div>

                            <div class="form-group">
                                <label for="question-type">È°åÁõÆÈ°ûÂûã *</label>
                                <select id="question-type" required>
                                    <option value="MC">MC</option>
                                    <option value="ÊñáÂ≠óÈ°å (SQ/LQ)">ÊñáÂ≠óÈ°å (SQ/LQ)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="marks">ÂàÜÊï∏</label>
                                <input type="number" id="marks" step="0.5">
                            </div>

                            <div class="form-group">
                                <label for="section">Section</label>
                                <input type="text" id="section">
                            </div>

                            <div class="form-group">
                                <label for="question-number">È°åËôü</label>
                                <input type="text" id="question-number">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="question-text-chi">È°åÁõÆÂÖßÂÆπ (‰∏≠Êñá)</label>
                            <textarea id="question-text-chi" rows="4"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="question-text-eng">È°åÁõÆÂÖßÂÆπ (Ëã±Êñá)</label>
                            <textarea id="question-text-eng" rows="4"></textarea>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="multiple-selection-type">Ë§áÈÅ∏È°ûÂûã</label>
                                <input type="text" id="multiple-selection-type" placeholder="ÁïôÁ©∫ÂâáËá™ÂãïÂ°´ÂÖ• '-'">
                            </div>

                            <div class="form-group">
                                <label for="graph-type">ÂúñË°®È°ûÂûã</label>
                                <input type="text" id="graph-type" placeholder="ÁïôÁ©∫ÂâáËá™ÂãïÂ°´ÂÖ• '-'">
                            </div>

                            <div class="form-group">
                                <label for="table-type">Ë°®Ê†ºÈ°ûÂûã</label>
                                <input type="text" id="table-type" placeholder="ÁïôÁ©∫ÂâáËá™ÂãïÂ°´ÂÖ• '-'">
                            </div>

                            <div class="form-group">
                                <label for="calculation-type">Ë®àÁÆóÈ°ûÂûã</label>
                                <input type="text" id="calculation-type" placeholder="‰æãÂ¶ÇÔºöÁôæÂàÜÊØîË®àÁÆó„ÄÅÂΩàÊÄßË®àÁÆó">
                            </div>                            

                            <div class="form-group">
                                <label for="aristo-chapter-classification">Aristo Chapters (Áî®ÈÄóËôüÂàÜÈöî)</label>
                                <input type="text" id="aristo-chapter-classification" placeholder="‰æãÂ¶ÇÔºöCh01, Ch09, Ch11">
                            </div>

                            <div class="form-group">
                                <label for="answer">Á≠îÊ°à</label>
                                <input type="text" id="answer">
                            </div>

                            <div class="form-group">
                                <label for="correct-percentage">Á≠îÂ∞çÁéá (%)</label>
                                <input type="number" id="correct-percentage" step="0.1" min="0" max="100">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="markers-report">Ë©ïÂç∑Â†±Âëä</label>
                            <textarea id="markers-report" rows="3"></textarea>
                        </div>

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="curriculum-classification">Ë™≤Á®ãÂàÜÈ°û *</label>
                                <div class="multi-select-dropdown simple" id="curriculum-dropdown-container">
                                    <div class="multi-select-selected" id="curriculum-selected-display">
                                        <span class="placeholder">ÈÅ∏ÊìáË™≤Á®ãÂàÜÈ°û...</span>
                                    </div>
                                    <div class="multi-select-options" id="curriculum-options">
                                        <div class="options-list" id="curriculum-options-list">
                                            <!-- Dynamically populated by JavaScript -->
                                        </div>
                                    </div>
                                    <!-- Èö±ËóèÊ¨Ñ‰ΩçÔºåÂÑ≤Â≠òÈÄóËôüÂàÜÈöîÂ≠ó‰∏≤ -->
                                    <input type="hidden" id="curriculum-classification" name="curriculum-classification">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="chapter-classification">Chapters (Áî®ÈÄóËôüÂàÜÈöî)</label>
                                <input type="text" id="chapter-classification">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="concepts">Ê∂âÂèäÊ¶ÇÂøµ (Ê®ôÁ±§ÔºåÁî®ÈÄóËôüÂàÜÈöî)</label>
                            <input type="text" id="concepts" placeholder="‰æã: Ê©üÊúÉÊàêÊú¨, ÂΩàÊÄß, Â∏ÇÂ†¥Â§±Êïà">
                        </div>

                        <div class="form-group">
                            <label for="pattern-tags">È°åÂûãÊ®ôÁ±§ (Áî®ÈÄóËôüÂàÜÈöî)</label>
                            <input type="text" id="pattern-tags" placeholder="‰æã: Ë®àÁÆóÈ°å, Áπ™ÂúñÈ°å, Ëß£ÈáãÈ°å">
                        </div>

                        <div class="form-group">
                            <label for="option-design">ÈÅ∏È†ÖË®≠Ë®à</label>
                            <textarea id="option-design" rows="2"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="remarks">ÂÇôË®ª</label>
                            <textarea id="remarks" rows="2"></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">üíæ ÂÑ≤Â≠òÈ°åÁõÆ</button>
                            <button type="button" class="btn btn-cancel" onclick="cancelEdit()">‚ùå ÂèñÊ∂à</button>
                        </div>
                    </form>
                </div>

                <!-- Questions Grid -->
                <div id="question-grid" class="question-grid"></div>

                <!-- Pagination -->
                <div class="pagination-container">
                    <div id="pagination-info">
                        <span id="pagination-info-text">È°ØÁ§∫ 0 È°åÁõÆ</span>
                        <select id="items-per-page" onchange="changeItemsPerPage('questions')">
                            <option value="10">ÊØèÈ†Å 10 È°å</option>
                            <option value="20" selected>ÊØèÈ†Å 20 È°å</option>
                            <option value="50">ÊØèÈ†Å 50 È°å</option>
                            <option value="-1">ÂÖ®ÈÉ®</option>
                        </select>
                    </div>
                    <div id="pagination-buttons"></div>
                </div>
            </div>

            <!-- Publishers Tab -->
            <div id="publishers-tab" class="tab-content">
                <h2>Âá∫ÁâàÂïÜÁµ±Ë®à</h2>
                <div id="publishers-grid" class="stats-grid"></div>
            </div>

            <!-- Topics Tab -->
            <div id="topics-tab" class="tab-content">
                <h2>Ë™≤Á®ãÂàÜÈ°ûÁµ±Ë®à</h2>
                <div id="topics-grid" class="stats-grid"></div>
            </div>

            <!-- Chapters Tab -->
            <div id="chapters-tab" class="tab-content">
                <h2>ChaptersÁµ±Ë®à</h2>
                <div id="chapters-grid" class="stats-grid"></div>
            </div>

            <!-- Concepts Tab -->
            <div id="concepts-tab" class="tab-content">
                <h2>Ê∂âÂèäÊ¶ÇÂøµÁµ±Ë®à</h2>
                <div id="concepts-grid" class="stats-grid"></div>
            </div>

            <!-- Patterns Tab -->
            <div id="patterns-tab" class="tab-content">
                <h2>È°åÂûãÁµ±Ë®à</h2>
                <div id="patterns-grid" class="stats-grid"></div>
            </div>
        </main>
    </div>
    <!-- End of Container -->
    <!-- Feedback Modal -->
    <div id="feedback-modal" class="modal hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10001; display: none; align-items: center; justify-content: center;">
        <div class="modal-content" style="background: white; padding: 25px; border-radius: 8px; width: 90%; max-width: 500px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h2 style="margin-top: 0; color: #2c3e50;">üìù È°åÁõÆÂõûÂ†± / Âª∫Ë≠∞</h2>
            <p style="color: #7f8c8d; font-size: 0.9em; margin-bottom: 15px;">
                È°åÁõÆ ID: <span id="feedback-question-id" style="font-weight: bold; color: #2980b9;"></span>
            </p>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">ÂõûÂ†±ÂÖßÂÆπ:</label>
                <textarea id="feedback-text" rows="5" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; resize: vertical;" placeholder="Ë´ãÊèèËø∞È°åÁõÆÈåØË™§„ÄÅÊéíÁâàÂïèÈ°åÊàñÊèê‰æõÂª∫Ë≠∞..."></textarea>
            </div>
            
            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button onclick="closeFeedbackModal()" style="padding: 8px 16px; background: #95a5a6; color: white; border: none; border-radius: 4px; cursor: pointer;">ÂèñÊ∂à</button>
                <button onclick="submitFeedback()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 4px; cursor: pointer;">ÈÄÅÂá∫ÂõûÂ†±</button>
            </div>
        </div>
    </div>
    <button id="scroll-to-top" onclick="scrollToTop()" title="ÂõûÂà∞È†ÇÈÉ®">‚Üë</button>
        <!-- Hidden Admin Toggle -->
        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--border-color);">
            <button onclick="toggleAdminMode()" class="btn-secondary" style="opacity: 0.3;">
                üîí ÁÆ°ÁêÜÂì°Ê®°Âºè
            </button>
            <button id="logout-btn" onclick="window.authManager.logout()" class="btn btn-danger" style="display: none;">
                üö™ ÁôªÂá∫
            </button>            
            <span id="admin-status" style="margin-left: 10px; color: #95a5a6; font-size: 12px;"></span>
        </div> 

<!-- Core dependencies first -->
<script src="js/globals.js"></script>
<script src="js/constants.js"></script>
<script src="js/config.js"></script>
<script src="js/auth.js"></script>

<!-- Storage layer -->
<script src="js/storage-core.js"></script>
<script src="js/storage-filters.js"></script>
<script src="js/storage-sync.js"></script>

<!-- UI components -->
<script src="js/utils.js"></script>
<script src="js/pagination.js"></script>
<script src="js/filters.js"></script>
<script src="js/forms.js"></script>
<script src="js/sort.js"></script>
<script src="js/render.js"></script>
<script src="js/statistics.js"></script>
<script src="js/tabs.js"></script>
<script src="js/import-export.js"></script>
<script src="js/admin.js"></script>

<!-- Main initialization last -->
<script src="js/main.js"></script>
</body>
</html>