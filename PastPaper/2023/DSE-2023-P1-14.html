<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKDSE Economics - Elasticity & Expenditure</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- MathJax for LaTeX -->
    <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8fafc;
            color: #334155;
            line-height: 1.6;
        }
        .concept-box {
            background-color: #f0f9ff; /* Light Blue */
            border-left: 5px solid #0ea5e9;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 0.5rem;
        }
        .math-block {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            text-align: center;
        }
        .option-card {
            transition: all 0.2s;
        }
        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #1e293b;
        }
        /* Custom scrollbar for code blocks if needed */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
    </style>
</head>
<body class="p-4 md:p-8 max-w-4xl mx-auto">

    <!-- Header -->
    <header class="mb-8 border-b pb-6">
        <div class="flex flex-wrap gap-2 mb-2">
            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded">Microeconomics</span>
            <span class="bg-purple-100 text-purple-800 text-xs font-semibold px-2.5 py-0.5 rounded">HKDSE</span>
        </div>
        <h1 class="text-3xl font-bold mb-2">Topic: Price Elasticity & Total Expenditure</h1>
        <h2 class="text-xl text-gray-600">課題：需求價格彈性與總支出</h2>
        
        <div class="flex items-center gap-4 mt-4 text-sm text-gray-500">
            <div class="flex items-center">
                <span class="font-bold mr-2">Difficulty 難度:</span>
                <span class="text-yellow-500">★★★★☆</span>
            </div>
            <div>
                <span class="font-bold">Key Concepts:</span> Linear Demand Curve, Unitary Elasticity
            </div>
        </div>
    </header>

    <!-- Question Section -->
    <section class="bg-white shadow-sm rounded-lg p-6 mb-8 border border-gray-200">
        <h3 class="text-lg font-bold mb-4 border-b pb-2">The Question (題目)</h3>
        
        <div class="mb-6 space-y-4">
            <p class="font-medium text-lg">
                假設口罩的需求曲線是一條向下傾斜的直線。當口罩價格由$5下降至$4時，消費者對口罩的總支出維持不變。若口罩價格再由$4下降至$3，消費者對口罩的總支出
            </p>
            <p class="text-gray-600 italic">
                Suppose the demand curve of face masks is a downward-sloping straight line. When the price of face masks falls from $5 to $4, consumers' total expenditure on face masks remains unchanged. If the price of face masks falls further from $4 to $3, consumers' total expenditure on face masks
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="p-3 border rounded hover:bg-gray-50 cursor-pointer">A. 會上升 (will increase).</div>
            <div class="p-3 border rounded hover:bg-gray-50 cursor-pointer">B. 會下降 (will decrease).</div>
            <div class="p-3 border rounded hover:bg-gray-50 cursor-pointer">C. 會維持不變 (will remain unchanged).</div>
            <div class="p-3 border rounded hover:bg-gray-50 cursor-pointer">D. 可能上升、下降或維持不變 (may increase, decrease or remain unchanged).</div>
        </div>
    </section>

    <!-- Concept Review -->
    <section class="concept-box">
        <h3 class="text-xl font-bold mb-3 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
            Concept Review (概念重溫)
        </h3>
        
        <div class="space-y-4">
            <div>
                <h4 class="font-bold text-blue-700">1. Linear Demand Curve & Elasticity (直線需求曲線與彈性)</h4>
                <p>
                    在一條向下傾斜的直線需求曲線上，<b>需求價格彈性 (Price Elasticity of Demand, \(E_d\)) 並非恆久不變</b>。
                    <br>
                    On a downward-sloping linear demand curve, <b>PED is NOT constant</b>.
                </p>
                <ul class="list-disc pl-5 mt-2 space-y-1">
                    <li><b>Top Half (上半部):</b> Elastic (\(E_d > 1\)). Price \(\downarrow\) \(\to\) Total Expenditure \(\uparrow\).</li>
                    <li><b>Midpoint (中點):</b> Unitary Elastic (\(E_d = 1\)). Total Expenditure is at its <b>Maximum (最大值)</b>.</li>
                    <li><b>Bottom Half (下半部):</b> Inelastic (\(E_d < 1\)). Price \(\downarrow\) \(\to\) Total Expenditure \(\downarrow\).</li>
                </ul>
            </div>

            <div>
                <h4 class="font-bold text-blue-700">2. Relationship between Price & Expenditure (價格與支出的關係)</h4>
                <div class="math-block">
                    Total Expenditure (TE) = Price (\(P\)) \(\times\) Quantity (\(Q\))
                </div>
                <p>
                    當 \(E_d = 1\) 時，價格變動的百分比 = 需求量變動的百分比，因此總支出維持不變。
                    <br>
                    When \(E_d = 1\), % change in Price = % change in Quantity, so Total Expenditure remains unchanged.
                </p>
            </div>
        </div>
    </section>

    <!-- Interactive Component Placeholder -->
    <div id="interactive-graph-root" class="mb-8"></div>

    <!-- Answer & Analysis -->
    <section class="mb-8">
        <h3 class="text-xl font-bold mb-4">Answer & Detailed Analysis (答案與詳細分析)</h3>
        
        <div class="p-4 bg-green-50 border border-green-200 rounded-lg mb-6">
            <span class="font-bold text-green-800 text-lg">Correct Option: B (會下降 / will decrease)</span>
        </div>

        <div class="space-y-6">
            <!-- Step 1 -->
            <div class="bg-white p-4 rounded border border-gray-200">
                <h4 class="font-bold text-gray-800 mb-2">Step 1: Analyze the first price drop ($5 \to $4)</h4>
                <p class="mb-2">
                    題目指出當價格由 $5 跌至 $4 時，總支出(TE) <b>維持不變</b>。這意味著在這段價格範圍內，需求彈性接近<b>單一彈性 (Unitary Elastic, \(E_d \approx 1\))</b>。
                </p>
                <p class="text-gray-600">
                    The question states that when price falls from $5 to $4, TE <b>remains unchanged</b>. This implies that in this price range, the demand is <b>Unitary Elastic (\(E_d \approx 1\))</b>. Specifically, we are crossing the midpoint of the linear demand curve.
                </p>
            </div>

            <!-- Step 2 -->
            <div class="bg-white p-4 rounded border border-gray-200">
                <h4 class="font-bold text-gray-800 mb-2">Step 2: Locate position on the curve</h4>
                <p class="mb-2">
                    在直線需求曲線上，隨著價格下降，我們會由「高彈性區」移向「低彈性區」。既然 $5 \to $4 是單一彈性區（中點附近），那麼<b>低於 $4 的價格</b>必定位於需求曲線的<b>下半部 (Bottom Half)</b>。
                </p>
                <p class="text-gray-600">
                    On a linear demand curve, as price falls, we move from the "Elastic zone" to the "Inelastic zone". Since the range $5 \to $4 is the unitary zone (near the midpoint), any price <b>lower than $4$</b> must be in the <b>Bottom Half</b> of the demand curve.
                </p>
            </div>

            <!-- Step 3 -->
            <div class="bg-white p-4 rounded border border-gray-200">
                <h4 class="font-bold text-gray-800 mb-2">Step 3: Analyze the second price drop ($4 \to $3)</h4>
                <p class="mb-2">
                    當價格由 $4 跌至 $3，我們進入了<b>低彈性區 (Inelastic Zone, \(E_d < 1\))</b>。
                    <br>
                    在此區域，價格下降的百分比 > 需求量上升的百分比。雖然買的人多了，但價格跌幅太大，導致總收入/總支出<b>下降</b>。
                </p>
                <p class="text-gray-600">
                    When price falls from $4 to $3, we enter the <b>Inelastic Zone (\(E_d < 1\))</b>.
                    <br>
                    In this zone, the % drop in Price is greater than the % rise in Quantity. Although quantity demanded increases, the price drop dominates, causing Total Expenditure to <b>decrease</b>.
                </p>
            </div>
        </div>
    </section>

    <!-- Problem Decomposition -->
    <section class="mb-8">
        <h3 class="text-xl font-bold mb-4">Problem Decomposition (題目拆解)</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-purple-50 p-4 rounded border border-purple-100">
                <h4 class="font-bold text-purple-800 mb-2">Pivot Point (關鍵點)</h4>
                <p>
                    <b>"Total expenditure remains unchanged" (總支出維持不變)</b>
                    <br>
                    這句話是解題核心。它鎖定了我們在需求曲線上的位置——正中間（單一彈性點）。
                    <br>
                    This phrase is the key. It locks our position on the demand curve—exactly at the middle (Unitary Elasticity).
                </p>
            </div>
            <div class="bg-orange-50 p-4 rounded border border-orange-100">
                <h4 class="font-bold text-orange-800 mb-2">The Trap (陷阱)</h4>
                <p>
                    學生常誤以為「直線」代表「彈性不變」。
                    <br>
                    Students often mistakenly think "Straight Line" means "Constant Elasticity".
                    <br>
                    <b>Remember:</b> Slope is constant, but Elasticity changes!
                </p>
            </div>
        </div>
    </section>

    <!-- Student Q&A -->
    <section class="mb-8 bg-gray-50 p-6 rounded-lg">
        <h3 class="text-xl font-bold mb-4">Student Q&A (學生常見疑問)</h3>
        
        <div class="space-y-4">
            <div>
                <p class="font-bold text-blue-800">Q: 為什麼直線需求曲線的彈性會變？斜率不是一樣嗎？</p>
                <p class="font-bold text-gray-700 text-sm">Why does elasticity change on a straight line if the slope is constant?</p>
                <p class="mt-2 text-gray-600">
                    A: 沒錯，斜率 (Slope) 是常數。但彈性公式是 \(\frac{1}{\text{slope}} \times \frac{P}{Q}\)。
                    <br>
                    當價格 \(P\) 下降且數量 \(Q\) 上升時，分數 \(\frac{P}{Q}\) 的數值會越來越小。因此，彈性數值會隨著價格下降而變小。
                </p>
            </div>
            <hr class="border-gray-300">
            <div>
                <p class="font-bold text-blue-800">Q: 如果題目說 $5 \to $4 時支出上升，那 $4 \to $3 會怎樣？</p>
                <p class="font-bold text-gray-700 text-sm">What if TE increased from $5 to $4?</p>
                <p class="mt-2 text-gray-600">
                    A: 如果 \(P \downarrow\) 令 \(TE \uparrow\)，代表我們還在<b>高彈性區 (Elastic Zone)</b>。
                    <br>
                    由 $4 \to 3$，我們可能剛好到達單一彈性點（TE 不變），或者還在高彈性區（TE 繼續升），或者剛進入低彈性區（TE 跌）。這時答案就會變成 D (Uncertain) 或視乎具體數字。但原題說「不變」，就鎖定了位置。
                </p>
            </div>
        </div>
    </section>

    <!-- React Component Script -->
    <script type="text/babel">
        const { useState, useMemo } = React;
        const { TrendingDown, TrendingUp, Minus } = lucide;

        function ElasticityGraph() {
            // State for price. Range 0 to 10.
            const [price, setPrice] = useState(5);
            
            // Demand Curve: Q = 10 - P (Simple linear model)
            // Max P = 10, Max Q = 10. Midpoint P=5, Q=5.
            const quantity = 10 - price;
            const expenditure = price * quantity;
            
            // Determine Zone
            let zone = "";
            let zoneColor = "";
            if (price > 5) {
                zone = "Elastic (高彈性)";
                zoneColor = "text-blue-600";
            } else if (price === 5) {
                zone = "Unitary (單一彈性)";
                zoneColor = "text-purple-600";
            } else {
                zone = "Inelastic (低彈性)";
                zoneColor = "text-orange-600";
            }

            return (
                <div className="bg-white p-6 rounded-lg shadow-lg border border-gray-200 max-w-3xl mx-auto">
                    <h3 className="text-xl font-bold mb-4 text-gray-800 border-b pb-2">Interactive: Visualizing Expenditure (互動圖解)</h3>
                    
                    <div className="mb-6">
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            Adjust Price (調整價格): <span className="text-lg font-bold">${price}</span>
                        </label>
                        <input 
                            type="range" 
                            min="0" 
                            max="10" 
                            step="1" 
                            value={price} 
                            onChange={(e) => setPrice(Number(e.target.value))}
                            className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
                        />
                        <div className="flex justify-between text-xs text-gray-500 mt-1">
                            <span>$0</span>
                            <span>$5 (Midpoint)</span>
                            <span>$10</span>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        {/* Graph 1: Demand Curve */}
                        <div className="relative h-64 border-l-2 border-b-2 border-gray-400">
                            <div className="absolute -top-6 left-2 font-bold text-gray-600">Price ($)</div>
                            <div className="absolute bottom-2 -right-6 font-bold text-gray-600">Qty</div>
                            
                            {/* Demand Line */}
                            <svg className="w-full h-full overflow-visible">
                                <line x1="0%" y1="0%" x2="100%" y2="100%" stroke="#94a3b8" strokeWidth="2" strokeDasharray="5,5" />
                                <line x1="0%" y1="0%" x2="100%" y2="100%" stroke="#3b82f6" strokeWidth="3" />
                                
                                {/* Current Point */}
                                <circle 
                                    cx={`${quantity * 10}%`} 
                                    cy={`${(10-price) * 10}%`} 
                                    r="6" 
                                    fill="#ef4444" 
                                    stroke="white" 
                                    strokeWidth="2"
                                />
                                {/* Dashed lines to axes */}
                                <line x1={`${quantity * 10}%`} y1={`${(10-price) * 10}%`} x2={`${quantity * 10}%`} y2="100%" stroke="#cbd5e1" strokeDasharray="4" />
                                <line x1={`${quantity * 10}%`} y1={`${(10-price) * 10}%`} x2="0%" y2={`${(10-price) * 10}%`} stroke="#cbd5e1" strokeDasharray="4" />
                            </svg>
                            
                            <div className="absolute top-2 right-2 bg-white/90 p-2 rounded border text-sm shadow-sm">
                                <div className={`font-bold ${zoneColor}`}>{zone}</div>
                                <div>Q: {quantity} units</div>
                            </div>
                        </div>

                        {/* Data Panel */}
                        <div className="flex flex-col justify-center space-y-4">
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <div className="text-gray-500 text-sm uppercase tracking-wide">Total Expenditure (總支出)</div>
                                <div className="text-3xl font-bold text-gray-800">${expenditure}</div>
                                <div className="text-xs text-gray-500 mt-1">Calculation: ${price} × {quantity}</div>
                            </div>

                            <div className={`p-4 rounded-lg border ${price < 5 ? 'bg-red-50 border-red-200' : (price > 5 ? 'bg-green-50 border-green-200' : 'bg-blue-50 border-blue-200')}`}>
                                <div className="font-bold text-gray-700 mb-1">Analysis (分析):</div>
                                {price === 5 && (
                                    <p className="text-sm text-blue-800">
                                        At Midpoint ($5). Total Expenditure is MAXIMIZED.
                                        <br/>
                                        在中點 ($5)，總支出達到最大值。
                                    </p>
                                )}
                                {price > 5 && (
                                    <p className="text-sm text-green-800">
                                        Upper Half. Price Drop ↓ → TE Increases ↑.
                                        <br/>
                                        上半部。減價 ↓ → 支出上升 ↑。
                                    </p>
                                )}
                                {price < 5 && (
                                    <p className="text-sm text-red-800">
                                        Lower Half. Price Drop ↓ → TE Decreases ↓.
                                        <br/>
                                        下半部。減價 ↓ → 支出下降 ↓。
                                        <br/>
                                        (Matches Question Scenario $4 → $3)
                                    </p>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('interactive-graph-root'));
        root.render(<ElasticityGraph />);
    </script>

</body>
</html>